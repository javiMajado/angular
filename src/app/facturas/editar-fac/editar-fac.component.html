<div class="barra">
    <span title="Proveedores" routerLink="/listado-proveedores">
      <i class="fas fa-box"></i>
    </span>
    <span title="Presupuestos" routerLink="/listado-facturas">
        <i class="fas fa-dollar-sign"></i>
    </span>
  </div>
  <div class="col-md-12">
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a routerLink="/">Inicio</a></li>
        <li class="breadcrumb-item"><a routerLink="/compras">Compras</a></li>
        <li class="breadcrumb-item"><a routerLink="/listado-facturas">Facturas</a></li>
        <li class="breadcrumb-item active" aria-current="page">Editar Factura</li>
      </ol>
    </nav>
  </div>
  <div class="col-md-12 titulo">
    <span>Editar Factura</span>
    <button class="btn btn-outline-success btn-lg" routerLink="/listado-facturas">
      Listado
    </button>
  </div>
  <div class="col-md-8 offset-2 paddingGlobal">
      <form [formGroup]="formFra" (ngSubmit)="editarFactura()">
          <div class="form-group">
            <label for="proveedor">Proveedor</label>

            <input class="form-control" type="text" name="proveedor"
            formControlName="proveedor" readonly [(ngModel)]="factura.proveedor" #proveedor>
            <!-- <select class="form-control" formControlName="proveedor" [(ngModel)]="factura.proveedor" #proveedor>
              <option *ngFor="let proveedor of proveedores" [ngValue]="proveedor.nombre">
                {{ proveedor.nombre }}
              </option>
            </select> -->
          </div>

          <div class="form-group">
              <div class="extremos">
                  <label for="cif">Cif</label>
              </div>           
            <input class="form-control" type="text" name="cif"
            formControlName="cif" maxlength="9" readonly [(ngModel)]="factura.cif">
 
          </div>

          <div class="form-group">
            <label for="fecha">Fecha de factura</label>
            <input class="form-control amarillo" type="date" name="fecha"
                   formControlName="fecha" [(ngModel)]="factura.fecha">
          </div>

          <div class="form-group">
            <label for="concepto">Concepto</label>
            <input class="form-control" type="text" name="concepto"
                   formControlName="concepto" [(ngModel)]="factura.concepto">
          </div>

          <div class="form-group">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" value="si" [(ngModel)]="factura.irpf" formControlName="irpf">
              <label class="form-check-label" for="inlineRadio1">IRPF</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" value="no" [(ngModel)]="factura.irpf" formControlName="irpf">
              <label class="form-check-label" for="inlineRadio2">Sin IRPF</label>
            </div>
          </div>     

          <div class="form-group">
            <label for="base">Base Imponible</label>
            <input class="form-control" type="number" name="base"
                   formControlName="base" [(ngModel)]="factura.base">
          </div>

          <div class="form-group">
            <label for="tipo">% de IVA</label>
            <select class="form-control" name="tipo" 
                    formControlName="tipo" [(ngModel)]="factura.tipo">
              <option value=0>0%</option>
              <option value=0.04>4%</option>
              <option value=0.10>10%</option>
              <option value=0.21>21%</option>
            </select>
          </div>

          <div class="form-group" *ngIf="irpf === 'si'">
            <label for="retencion">Retencion IRPF</label>
            <input class="form-control" type="text" name="retencion"
                   formControlName="retencion" readonly [(ngModel)]="formFra.value.retencion">
          </div>

          <div class="form-group">
            <label for="importe">Importe IVA</label>
            <input class="form-control" type="text" name="importe"
                   formControlName="importe" readonly [(ngModel)]="formFra.value.importe">
          </div>

          <div class="form-group">
            <label for="total">Total Factura IVA Incluido</label>
            <input class="form-control" type="text" name="total"
                  formControlName="total" readonly [(ngModel)]="formFra.value.total">
          </div>

          <button type="submit" class="btn btn-success">Editar Factura</button>
          <button class="btn btn-danger fijo2" routerLink="/listado-facturas">Cancelar</button>
    </form>
  </div>
